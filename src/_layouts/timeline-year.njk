---
layout: base.njk
---

{# Page Header #}
<section class="section-page-header">
    <div class="container">
        <div class="page-header-centered">
            <span class="label-eyebrow">{{ season }} • {{ grade }}</span>
            <h1>{{ year }}</h1>
            {% if team %}
            <p class="supporting-text">{{ team }}</p>
            {% endif %}
        </div>
    </div>
</section>

{# Stats Overview #}
{% if stats %}
<section style="padding: 3rem 0; background-color: var(--bg-light);">
    <div class="container">
        <h2>Season Statistics</h2>
        <div class="glance-grid" style="margin-top: 2rem;">
            {% if stats.games %}
            <div class="card-glance">
                <h3 class="card-title">Games Played</h3>
                <div style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin: 1rem 0;">{{ stats.games }}</div>
            </div>
            {% endif %}
            {% if stats.ppg %}
            <div class="card-glance">
                <h3 class="card-title">Points Per Game</h3>
                <div style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin: 1rem 0;">{{ stats.ppg }}</div>
            </div>
            {% endif %}
            {% if stats.apg %}
            <div class="card-glance">
                <h3 class="card-title">Assists Per Game</h3>
                <div style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin: 1rem 0;">{{ stats.apg }}</div>
            </div>
            {% endif %}
            {% if stats.rpg %}
            <div class="card-glance">
                <h3 class="card-title">Rebounds Per Game</h3>
                <div style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin: 1rem 0;">{{ stats.rpg }}</div>
            </div>
            {% endif %}
        </div>
    </div>
</section>
{% endif %}

{# Highlights (text list) #}
{% if highlights %}
<section style="padding: 3rem 0; background-color: var(--bg-white);">
    <div class="container">
        <h2>Season Highlights</h2>
        <ul style="margin-top: 1.5rem; line-height: 1.8;">
            {% for highlight in highlights %}
            <li>{{ highlight }}</li>
            {% endfor %}
        </ul>
    </div>
</section>
{% endif %}

{# Highlight Videos #}
{% if videos and videos.length > 0 %}
<section class="section-highlights" style="background-color: var(--bg-light);">
    <div class="container">
        <h2>Game Film & Highlights</h2>
        <div class="highlights-videos">
            {% for video in videos %}
            <div class="video-wrapper">
                <div class="video-embed">
                    {% if video.videoUrl %}
                        {% if 'youtube.com' in video.videoUrl or 'youtu.be' in video.videoUrl %}
                            {% set videoId = video.videoUrl | replace('https://youtu.be/', '') | replace('https://www.youtube.com/watch?v=', '') | replace('&', '?') | split('?') | first %}
                            <iframe width="100%" height="315" src="https://www.youtube.com/embed/{{ videoId }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        {% else %}
                            <div class="video-placeholder">
                                <p><a href="{{ video.videoUrl }}" target="_blank">Watch Video</a></p>
                            </div>
                        {% endif %}
                    {% endif %}
                </div>
                <div class="video-caption">
                    <h3 class="video-title">{{ video.title }}</h3>
                    <p>{{ video.description }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

{# Main Content #}
<section style="padding: 3rem 0; background-color: var(--bg-light);">
    <div class="container-narrow">
        <div class="post-content">
            {{ content | safe }}
        </div>
    </div>
</section>

{# Gallery #}
{% if gallery and gallery.length > 0 %}
<section style="padding: 3rem 0; background-color: var(--bg-white);">
    <div class="container">
        <h2>Gallery</h2>
        <div class="highlights-videos" style="margin-top: 2rem; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
            {% for item in gallery %}
            <div>
                {% if item.image %}
                <img src="{{ item.image }}" alt="{{ item.caption }}" style="width: 100%; height: 300px; object-fit: cover; border-radius: 0.5rem; box-shadow: var(--shadow-md);">
                {% else %}
                <div style="width: 100%; height: 300px; background: var(--bg-light); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; color: var(--text-gray);">
                    [Photo Placeholder]
                </div>
                {% endif %}
                {% if item.caption %}
                <p style="margin-top: 0.75rem; text-align: center; color: var(--text-gray);">{{ item.caption }}</p>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

{# Back Link #}
<section style="padding: 2rem 0;">
    <div class="container">
        <a href="/basketball/" class="back-link">← Back to Basketball Profile</a>
    </div>
</section>
